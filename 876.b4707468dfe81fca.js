"use strict";(self.webpackChunkrest=self.webpackChunkrest||[]).push([[876],{1876:(B,m,t)=>{t.r(m),t.d(m,{MainModule:()=>Y,MainRoutingModule:()=>v});var a=t(7211),h=t(9783),c=t(7253),M=t(515),g=t(262),p=t(4004),y=t(4185);class C{}var l=t(9808);const d=new l.uU("en-US");class D{constructor(){this.weekday=0,this.active=!0,this.fromTo=void 0,this.weekdayString=void 0,this.fromDateTime=void 0,this.toDateTime=void 0}onMapping(){if(this.from&&this.to){let s=d.transform(new Date(this.from),"hh:mm a"),o=d.transform(new Date(this.to),"hh:mm a");this.fromTo=s+"-"+o,this.fromDateTime=new Date(this.from),this.toDateTime=new Date(this.to)}this.weekdayString=l.VR[this.weekday]}}var e=t(7587),S=t(3558),F=t(72),u=t(4965);const T=new c.Yd("MainInteractor");let f=(()=>{class n{constructor(o,i,r,z,G,L,I){this.route=o,this.router=i,this.companyService=r,this.messageService=z,this.confirmationService=G,this.spinnerService=L,this.storageService=I,this.subscriptions=[],this.presenter=new C,this.loading=!1}loadData(){this.observableData=this.companyService.getCompany("company/hours","network-only").pipe((0,g.K)(o=>(T.error(o),(0,M.c)()))).pipe((0,p.U)(o=>o.company.hours.map(i=>new y.y(D).map(i))))}reloadData(o){void 0!==o&&0!=o.length&&o.filter(r=>r.active)}subscribeChanges(){this.observableData&&this.subscriptions.push(this.observableData.subscribe(o=>{this.reloadData(o),this.storageService.openingHours=o}))}unsubscribeChanges(){this.subscriptions.length&&this.subscriptions.forEach(o=>o.unsubscribe())}}return n.\u0275fac=function(o){return new(o||n)(e.LFG(a.gz),e.LFG(a.F0),e.LFG(S.J),e.LFG(h.ez),e.LFG(h.YP),e.LFG(F.t2),e.LFG(u.P))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();new c.Yd("MainComponent");const P=[{path:"",component:(()=>{class n{constructor(o,i,r){this.route=o,this.storageService=i,this.interactor=r,this.storageService.companyId=2}ngOnInit(){this.viewModel=this.interactor.presenter,this.interactor.loadData(),this.interactor.subscribeChanges()}ngOnDestroy(){this.interactor.unsubscribeChanges()}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(a.gz),e.Y36(u.P),e.Y36(f))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-main"]],features:[e._Bn([h.YP,f])],decls:1,vars:0,template:function(o,i){1&o&&e._UZ(0,"router-outlet")},directives:[a.lC],styles:[""]}),n})(),children:[{path:"",pathMatch:"full",redirectTo:"/menu/onlineorder"},{path:"home",loadChildren:()=>Promise.all([t.e(132),t.e(394),t.e(782),t.e(398)]).then(t.bind(t,1398)).then(n=>n.HomeModule)},{path:"menu",loadChildren:()=>Promise.all([t.e(132),t.e(394),t.e(782)]).then(t.bind(t,1782)).then(n=>n.MenuModule)},{path:"cart",loadChildren:()=>Promise.all([t.e(132),t.e(394),t.e(495),t.e(480)]).then(t.bind(t,8480)).then(n=>n.CartModule)},{path:"orders",loadChildren:()=>Promise.all([t.e(132),t.e(495),t.e(228)]).then(t.bind(t,4228)).then(n=>n.OrderModule)}]}];let v=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[a.Bz.forChild(P)],a.Bz]}),n})(),Y=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[l.ez,v]]}),n})()}}]);